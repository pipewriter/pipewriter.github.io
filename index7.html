
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Parker Diard â€“ Portfolio</title>
<style>
:root{
  --bio1:#e6efe0;
  --bio2:#9ed9a0;
  --bio3:#84a98c;
  --bio4:#52796f;
  --bio5:#354f52;
  --bio6:#a3b18a;
  --java:#f7df1e;
  --js:#fee26c;
  --cpp:#7e99c6;

  --accent:#00d9ff;
  --card-bg:#1b1d2b;
  --text:#f3f6ff;
  --duration:.6s;
  --easing:cubic-bezier(.25,.8,.25,1);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(120deg,var(--bio1) 60%,var(--bio2) 100%);
  min-height:100vh;
  color:var(--bio5);
  display:flex;
  flex-direction:column;
}
#header{
  background:linear-gradient(90deg,var(--bio4) 70%,var(--bio3) 100%);
  color:#fff;
  padding:20px;
  position:sticky;
  top:0;z-index:100;
  display:flex;align-items:center;gap:28px;flex-wrap:wrap;
  box-shadow:0 3px 18px 0 rgba(159,224,109,.19);
}
#avatar{
  width:68px;height:68px;border-radius:50%;
  border:4px solid var(--bio2);
  background:#fff;object-fit:cover;
  box-shadow:0 3px 10px 0 rgba(76,133,70,.14);
}
#meinfo{display:flex;flex-direction:column;gap:6px;}
#meinfo h1{font-size:1.6em;margin:0;font-weight:bold;}
#meinfo span{opacity:.88;font-size:.98em;}

#skillBar{
  display:flex;flex-wrap:wrap;gap:.5rem;
  margin-top:14px;width:100%;justify-content:flex-start;
}
.filter-btn{
  display:flex;align-items:center;gap:.45rem;
  background:linear-gradient(135deg,#2e3043 0%,#171822 100%);
  border:2px solid transparent;border-radius:2rem;
  color:var(--text);padding:.45rem 1rem .45rem .6rem;
  cursor:pointer;transition:background .3s;position:relative;font-size:.83rem;
}
.filter-btn::after{content:'';position:absolute;inset:0;border-radius:inherit;
  background:var(--accent);opacity:0;transition:opacity .3s;}
.filter-btn.active::after{opacity:.35;}
.filter-btn:hover{background:#2c2e40;}
.filter-btn img{width:20px;height:20px;border-radius:50%;object-fit:cover;background:#d6d6d6;}
.stars{font-size:.75rem;letter-spacing:-.05em;user-select:none;color:#ffda65;}

main{display:flex;flex:1;}
#codepane{
  flex:1 1 38vw;max-width:46vw;min-width:310px;
  display:flex;flex-direction:column;padding:36px 30px 36px 60px;gap:24px;
}
.codeblock{
  padding:1.5em 1.1em 1.5em 1.7em;
  border-radius:18px;
  font-family:'Fira Mono',monospace;
  font-size:1.15em;line-height:1.42em;
  overflow-x:auto;position:relative;
  transition:transform .13s,box-shadow .14s;cursor:pointer;
  background:var(--bio6);
  box-shadow:0 3px 18px 0 rgba(159,224,109,.19);
  border-left:7px solid var(--bio2);
}
.codeblock.hidden{display:none;}
.codeblock.active,.codeblock:hover{
  transform:scale(1.032) translateX(7px);
  box-shadow:0 7px 30px 0 rgba(82,121,111,.11);z-index:4;
}
.codeblock[data-lang='Java']{border-left-color:var(--java);background:rgba(247,223,30,.19);}
.codeblock[data-lang='JavaScript']{border-left-color:var(--js);background:rgba(254,226,108,.18);}
.codeblock[data-lang='C++']{border-left-color:var(--cpp);background:rgba(126,153,198,.14);}
.codeblock .lang{
  position:absolute;top:10px;right:18px;font-size:.99em;font-weight:600;color:#fff;
  background:#465d53b0;padding:0.1em 0.7em;border-radius:7px 13px 13px 7px;
}
.codeblock .lnum{opacity:.37;user-select:none;font-size:.94em;}
.codeblock .comment{color:#406039;opacity:.62;}

#projectpane{
  flex:0 0 39vw;min-width:320px;max-width:47vw;padding:38px;
  position:sticky;top:100px;height:min(77vh,650px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:linear-gradient(109deg,var(--bio3) 61%,rgba(173,232,188,.34) 100%);
  box-shadow:0 3px 18px 0 rgba(159,224,109,.19);
  border-radius:41px 37px 19px 41px;border:3px dashed var(--bio4);
}
#projectimg{width:410px;max-width:90vw;max-height:240px;border-radius:29px;
  object-fit:cover;box-shadow:0 10px 38px 0 rgba(126,153,100,.13);
  background:var(--bio2);margin-bottom:22px;opacity:0;transition:opacity .18s;}
#projectimg.show{opacity:1;}
#projecttitle{font-size:2em;font-weight:700;margin-bottom:7px;text-align:center;}
#projectdesc{font-size:1.12em;opacity:.77;margin-bottom:9px;font-family:'Segoe UI',sans-serif;
  max-width:420px;background-color:rgba(255,254,240,0.78);border-radius:12px;padding:8px 17px;
  box-shadow:0 2px 17px 0 rgba(175,224,143,0.13);}
#projectlinks a{
  background:var(--bio5);color:var(--bio1);font-weight:600;text-decoration:none;font-size:1.04em;
  padding:7px 17px;border-radius:18px 11px 17px 14px;transition:background .13s;color .13s;margin-right:16px
}
#projectlinks a:hover{background:var(--bio4);color:#fff;}

@media(max-width:1100px){main{flex-direction:column;}
  #codepane,#projectpane{max-width:100vw;width:100vw;min-width:0;}}
@media(max-width:750px){
  #header{flex-direction:column;gap:12px;padding:16px;}
  #codepane,#projectpane{padding:20px 8vw;}
  #projectimg{width:97vw;max-width:97vw}
}
</style>
</head>
<body>
<div id="header">
  <a href="https://www.linkedin.com/in/parkerdiard" target="_blank" rel="noopener">
    <img id="avatar" src="profile_pic.jpg" alt="Avatar">
  </a>
  <div id="meinfo">
    <h1>Parker Diard</h1>
    <span>Graphics-minded Software Engineer Â· Mountain View, CA ðŸŒ±</span>
  </div>
  <div id="skillBar"></div>
</div>

<main>
  <section id="codepane"></section>
  <section id="projectpane">
    <img id="projectimg" src="" alt="Project Image" />
    <div id="projecttitle"></div>
    <div id="projectdesc"></div>
    <div id="projectlinks"></div>
  </section>
</main>

<script>
/* ----------  SKILL  BAR  DATA  ---------- */
const skillMeta = {
  "Java":        {rating:5, img:"https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg"},
  "JavaScript":  {rating:5, img:"https://raw.githubusercontent.com/devicons/devicon/master/icons/javascript/javascript-original.svg"},
  "OpenGL":      {rating:4, img:"https://raw.githubusercontent.com/devicons/devicon/master/icons/opengl/opengl-original.svg"},
  "C++":         {rating:3, img:"https://raw.githubusercontent.com/devicons/devicon/master/icons/cplusplus/cplusplus-original.svg"},
  "GLSL":        {rating:4, img:"logos/glsl.png"},
  "WebXR":       {rating:4, img:"logos/webxr.png"},
  "ThreeJS":     {rating:3, img:"logos/threejs-original.svg"},
  "Supabase":    {rating:2, img:"https://seeklogo.com/images/S/supabase-logo-DCC676FFE2-seeklogo.com.png"},
  "WebGL":       {rating:4, img:"logos/webgl.png"},
};
const starHTML = r => `<span class="stars">${"â˜…".repeat(r)}${"â˜†".repeat(5-r)}</span>`;
const skillBar = document.getElementById("skillBar");
Object.entries(skillMeta).forEach(([skill,m])=>{
  const btn=document.createElement("button");
  btn.className="filter-btn";
  btn.innerHTML=`<img src="${m.img}" alt="">${skill} ${starHTML(m.rating)}`;
  btn.dataset.skill=skill;
  skillBar.appendChild(btn);
});

/* ----------  PROJECT  DATA  ---------- */
const projectData=[
  {
    title:"Procedural Mind Palace",
    desc:"A 3-D generative memory palace that embeds any media in unique, recallable rooms. Steam release.",
    links:[
      {href:"https://github.com/pipewriter/mind-palace",label:"GitHub"},
      {href:"https://store.steampowered.com/app/2367280/A_Shared_Memory/",label:"Steam"}
    ],
    img:"images/ps.png",
    code:"https://github.com/pipewriter/mind-palace"
  },
  {
    title:"Shared VR Image Viewer",
    desc:"Browse images in a lava-lamp space with friendsâ€”supports supine VR viewing.",
    links:[
      {href:"https://github.com/pipewriter/webxr-get-rooms-shared",label:"GitHub"},
      {href:"https://pipewriter.github.io/webxr-get-rooms-shared.html?rooms=rooms.json&room=expression2",label:"Live Demo"}
    ],
    img:"images/attentionfocus.png",
    code:"https://github.com/pipewriter/webxr-get-rooms-shared"
  },
  {
    title:"React-Native Supabase Take-home",
    desc:"Interview project showcasing Auth & CRUD with Supabase and React-Native.",
    links:[
      {href:"https://github.com/pipewriter/react-native-supabase",label:"GitHub"}
    ],
    img:"images/reactsupabase.jpg",
    code:"https://github.com/pipewriter/react-native-supabase"
  },
  {
    title:"Rogue World Java MMO",
    desc:"Procedurally generated MMO reminiscent of RuneScape with exhaustible resources.",
    links:[
      {href:"https://github.com/pipewriter/rogue-world",label:"GitHub"},
      {href:"https://www.youtube.com/watch?v=1v4U8AQpIE8",label:"Video"}
    ],
    img:"images/rw6.png",
    code:"https://github.com/pipewriter/rogue-world"
  },
  {
    title:"NovelBase Zettelkasten Tool",
    desc:"A Zettelkasten system where each link gains a unique, memorable identifier.",
    links:[
      {href:"https://github.com/pipewriter/novelbase",label:"GitHub"},
      {href:"https://novelbase.itch.io/novelbase",label:"Itch.io"}
    ],
    img:"images/novelbase.gif",
    code:"https://github.com/pipewriter/novelbase"
  },
  {
    title:"Triangle WebGL",
    desc:"A day project while learning WebGLâ€”renders colourful spinning triangles.",
    links:[
      {href:"https://github.com/pipewriter/TriangleWebGL",label:"GitHub"},
      {href:"https://pipewriter.github.io/TriangleWebGL",label:"Live"}
    ],
    img:"images/triangles.png",
    code:"https://github.com/pipewriter/TriangleWebGL"
  }
];

/* ----------  CODE  DATA  ---------- */
const codeData=[
  {
    project:0,
    lang:"Java",
    startLine:4,
    skills:["Java"],
    code:`private static Class<GameObject>[] classesLookupTable = new Class[]{
        // REGISTERED CLASSES GO HERE
        Pasty.class, ShinyBauble.class, TextNodule.class, TextNodule2.class, RecordNodule.class, IdeaBeacon.class,
        ThreeDumb.class, LudeonNodule.class, Shader.class, PortalNodule.class, LinkNodule.class, ChestNodule.class,
        KeyNodule.class, FileNodule.class, BurningBush.class, ParkerQuizItem.class, TenPortals.class, ObeliskNodule.class,
        ProtoVideo.class, CompressorNodule.class, ControllerNodule.class,
        FunnelNodule.class, PhantomNodule.class, PromiseNodule.class, FolderNodule.class,
        FunnelNodule2.class, PumpJack.class, FollowPath.class, Searcher.class,
        MultipleChoice.class, Conveyor.class, TtsMachine.class, PressurePlate.class, Crux.class
    };`
  },
  {
    project:0,
    lang:"Java",
    startLine:19265,
    skills:["Java"],
    code:`public void putDoubleArr(double[] ia){
        putInt(ia.length);
        int doubleArrayRemainder = ia.length;
        int sofar = 0;
        while(doubleArrayRemainder > 0){
            var ib = current.asDoubleBuffer();
            int writeamtDoubles = Math.min(doubleArrayRemainder, (max-current.position())/8);
            int writeamtBytes = writeamtDoubles*8;
            ib.put(ia, sofar, writeamtDoubles);
            current.position(current.position() + writeamtBytes);
            doubleArrayRemainder -= writeamtDoubles;
            sofar += writeamtDoubles;
            if(doubleArrayRemainder > 0){
                doit();
            }
        }
    }`
  },
  {
    project:0,
    lang:"Java",
    startLine:3,
    skills:["Java"],
    code:`if(event.type == LEAF_EMERGENCE) {
  palace.growRoom(seed); // nurture memory space
}`
  },
  {
    project:1,
    lang:"JavaScript",
    startLine:2,
    skills:["JavaScript","WebXR","ThreeJS"],
    code:`const room = createLavaLamp(images);
syncVR(room);`
  },
  {
    project:2,
    lang:"JavaScript",
    startLine:8,
    skills:["JavaScript","Supabase"],
    code:`const { data,error } = await supabase.from('todos').select('*');`
  },
  {
    project:3,
    lang:"Java",
    startLine:45,
    skills:["Java"],
    code:`world.generateProcedurally(seed, biomeMap);`
  },
  {
    project:4,
    lang:"Java",
    startLine:20,
    skills:["Java"],
    code:`knowledge.link(noteA,noteB);
memory.render(graph);`
  },
  {
    project:5,
    lang:"C++",
    startLine:1,
    skills:["C++","OpenGL","WebGL"],
    code:`glBegin(GL_TRIANGLES);
/* â€¦ */
glEnd();`
  }
];

/* ----------  PRELOAD IMAGES  ---------- */
const imgCache=[];projectData.forEach(p=>{const i=new Image();i.src=p.img;imgCache.push(i);});

/* ----------  DOM  REFERENCES  ---------- */
const codePane=document.getElementById("codepane"),
      $pjimg=document.getElementById("projectimg"),
      $pjtitle=document.getElementById("projecttitle"),
      $pjdesc=document.getElementById("projectdesc"),
      $pjlinks=document.getElementById("projectlinks");

let currentProj=-1;
let activeBlock=null;
const activeSkills=new Set();

/* ----------  UTIL  ---------- */
const esc=s=>s.replace(/[&<>]/g,ch=>({"&":"&amp;","<":"&lt;",">":"&gt;"}[ch]));
function buildCodeHTML(snippet,start){
  return snippet.split("\n").map((l,i)=>
      `<span class="lnum">${start+i}</span> ${esc(l).replace(/  /g,'&nbsp;&nbsp;')}`
  ).join("<br>");
}

/* ----------  RENDER  CODEBLOCKS  ---------- */
function renderCodeBlocks(){
  codePane.innerHTML="";
  codeData.forEach((d,idx)=>{
    const div=document.createElement("div");
    div.className="codeblock";
    div.tabIndex=0;
    div.dataset.project=d.project;
    div.dataset.lang=d.lang;
    div.dataset.idx=idx;
    div.dataset.skills=d.skills.join(",");
    div.innerHTML=`<span class="lang">${d.lang}</span><code>${buildCodeHTML(d.code,d.startLine)}</code>`;
    codePane.appendChild(div);
  });
}

/* ----------  PROJECT  PANEL  ---------- */
function setProject(n){
  if(n===currentProj) return;
  const proj=projectData[n];currentProj=n;
  $pjimg.classList.remove("show");$pjimg.alt=proj.title;
  $pjimg.src=proj.img;
  if(imgCache[n].complete){$pjimg.classList.add("show");}else{$pjimg.onload=()=>{$pjimg.classList.add("show")}}
  $pjtitle.textContent=proj.title;$pjdesc.textContent=proj.desc;
  $pjlinks.innerHTML=proj.links.map(l=>`<a href="${l.href}" target="_blank" rel="noopener">${l.label}</a>`).join('');
}

/* ----------  HIGHLIGHT  BLOCK  ---------- */
function highlightBlock(el){
  if(activeBlock) activeBlock.classList.remove("active");
  activeBlock=el;activeBlock.classList.add("active");
  setProject(parseInt(el.dataset.project));
}

/* ----------  FILTER  CODEBLOCKS  ---------- */
function applyFilters(){
  const blocks=document.querySelectorAll(".codeblock");
  const hasFilter=activeSkills.size>0;
  blocks.forEach(b=>{
    const skills=b.dataset.skills.split(",");
    const visible=!hasFilter || skills.some(s=>activeSkills.has(s));
    b.classList.toggle("hidden",!visible);
  });
  if(activeBlock && activeBlock.classList.contains("hidden")) activeBlock=null;
  if(!activeBlock){
    const firstVisible=[...blocks].find(b=>!b.classList.contains("hidden"));
    if(firstVisible) highlightBlock(firstVisible);
  }
}

/* ----------  INTERACTION  ---------- */
function attachBlockEvents(){
  const blocks=document.querySelectorAll(".codeblock");
  blocks.forEach(b=>{
    ['mouseenter','focus'].forEach(evt=>b.addEventListener(evt,()=>highlightBlock(b)));
    b.addEventListener("click",()=>{
      highlightBlock(b);
      const link=projectData[parseInt(b.dataset.project)].code;
      if(link) window.open(link,"_blank");
    });
  });
}
skillBar.addEventListener("click",e=>{
  const btn=e.target.closest(".filter-btn");
  if(!btn) return;
  const skill=btn.dataset.skill;
  if(activeSkills.has(skill)){activeSkills.delete(skill);btn.classList.remove("active");}
  else{activeSkills.add(skill);btn.classList.add("active");}
  applyFilters();
});

/* ----------  INITIALIZE  ---------- */
renderCodeBlocks();
attachBlockEvents();
setTimeout(()=>{
  const first=document.querySelector(".codeblock:not(.hidden)");
  if(first) highlightBlock(first);
},10);
</script>
</body>
</html>
