<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Engine From Scratch | Graphics‑Engineer Magnum Opus</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<!-- ────────── COLOR SYSTEM (earth‑tone harmony) ────────── -->
<style>
:root{
  /* neutrals & soils */
  --soil-90:#2B2116; /* deep humus (very dark)   */
  --soil-70:#4B3621; /* rich soil brown          */
  --soil-50:#7E5D3B; /* medium clay              */
  --sand-30:#D8C3A5; /* light sand               */
  --sand-20:#E8DACA; /* pale sand highlight      */
  /* greens & foliage */
  --moss-70:#4A5335;
  --sage-50:#9DA993;
  /* accent terracotta */
  --terra-60:#C97D60;
  /* text */
  --txt-dark:var(--soil-90);
  --txt-light:#F5F5F2;
  /* shadows */
  --shadow-s:0 4px 12px rgba(0,0,0,.15);
  --shadow-m:0 8px 24px rgba(0,0,0,.20);
}

/* ────────── RESET / BASE ────────── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;}
body{
  font:400 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto;
  color:var(--txt-dark);
  background:var(--sand-20);
  overflow-x:hidden;
}

/* utility */
.container{width:90%;max-width:1200px;margin-inline:auto;}

/* ────────── HERO ────────── */
#hero{
  position:relative;isolation:isolate;
  height:100vh;min-height:600px;
  display:flex;align-items:center;justify-content:center;
  perspective:800px;
  background:linear-gradient(135deg,var(--sand-30) 0%,var(--sage-50) 100%);
  clip-path:polygon(0 0,100% 0,100% 92%,0 100%);
  overflow:hidden;
}
#hero canvas{
  position:absolute;inset:0;width:100%;height:100%;
}
.hero-content{
  position:relative;z-index:2;text-align:center;color:var(--txt-light);
  transform-style:preserve-3d;
}
.hero-content h1{
  font-size:clamp(2.5rem,6vw,5rem);
  letter-spacing:1px;
  text-shadow:0 4px 10px rgba(0,0,0,.3);
  animation:revealDown .8s ease-out forwards .3s;
  opacity:0;transform:translateY(-40px);
}
.hero-content p{
  font-size:clamp(1rem,2.3vw,1.4rem);
  max-width:45ch;margin:1rem auto 2.5rem;
  animation:revealDown .8s ease-out forwards .6s;
  opacity:0;transform:translateY(-40px);
}
.hero-content a.cta{
  display:inline-block;padding:.9rem 2.2rem;
  background:var(--terra-60);color:var(--txt-light);border-radius:40px;
  font-weight:600;text-decoration:none;letter-spacing:.5px;
  box-shadow:var(--shadow-s);
  transition:transform .25s,cubic-bezier(.4,0,.2,1);
  animation:revealDown .8s ease-out forwards .9s;
  opacity:0;transform:translateY(-40px);
}
.hero-content a.cta:hover{transform:translateY(-3px) scale(1.03);}

/* hero text entrance */
@keyframes revealDown{
  to{opacity:1;transform:translateY(0);}
}

/* ────────── SECTION STYLES ────────── */
section{
  padding:6rem 0;
  position:relative;isolation:isolate;
}
section:nth-of-type(even){background:linear-gradient(180deg,var(--sand-20) 0%,var(--sand-30) 100%);}
.section-title{
  font-size:clamp(1.8rem,4vw,3rem);
  margin-bottom:1.5rem;letter-spacing:.5px;position:relative;
  color:var(--soil-70);
}
.section-title::after{
  content:'';display:block;width:60px;height:4px;
  background:var(--terra-60);margin-top:.6rem;border-radius:2px;
}

/* timeline */
.timeline{
  position:relative;margin-left:1rem;padding-left:2rem;
}
.timeline::before{
  content:'';position:absolute;left:0;top:0;width:4px;height:100%;
  background:var(--sage-50);border-radius:2px;
}
.timeline-item{margin-bottom:3rem;opacity:0;transform:translateX(-30px);}
.timeline-item.is-visible{opacity:1;transform:none;transition:.6s ease-out;}
.timeline-item h3{font-size:1.3rem;color:var(--moss-70);}
.timeline-item p{max-width:60ch;margin-top:.4rem;}

/* demo canvases */
.demos{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;
}
.demo-card{
  background:var(--txt-light);border-radius:8px;box-shadow:var(--shadow-s);
  overflow:hidden;transform:translateY(40px);opacity:0;transition:.7s ease-out;
}
.demo-card.is-visible{transform:none;opacity:1;}
.demo-card header{
  background:var(--moss-70);color:var(--txt-light);padding:.8rem 1.2rem;
  font-weight:600;letter-spacing:.4px;
}
.demo-card canvas{display:block;width:100%;height:200px;}

/* scroll progress bar */
#scrollbar{
  position:fixed;top:0;left:0;height:4px;width:0;
  background:var(--terra-60);z-index:999;
  transform-origin:left;
}

/* footer */
footer{
  text-align:center;padding:4rem 1rem;color:var(--moss-70);font-size:.9rem;
}

/* fade‑in generic */
.reveal{opacity:0;transform:translateY(40px);transition:.7s ease-out;}
.reveal.is-visible{opacity:1;transform:none;}
</style>
</head>
<body>

<!-- ╭────────────────── HERO ──────────────────╮ -->
<div id="scrollbar"></div>
<header id="hero">
  <canvas id="heroCanvas" aria-hidden="true"></canvas>
  <div class="hero-content container">
    <h1>Engine&nbsp;From&nbsp;Scratch</h1>
    <p>A ground‑up real‑time rendering engine—hand‑rolled C++ / GLSL, modern pipelines, and a relentless pursuit of visual fidelity.</p>
    <a href="#details" class="cta">Explore the Build →</a>
  </div>
</header>

<!-- ╭────────────────── DETAILS ──────────────────╮ -->
<section id="details">
  <div class="container">
    <h2 class="section-title">Deconstructing the Build</h2>
    <div class="timeline">
      <div class="timeline-item">
        <h3>01&nbsp;· Renderer Architecture</h3>
        <p>Crafted a modular rendergraph with explicit resource lifetimes, enabling parallel GPU command generation and frame‑graph rehearsal for zero‑surprise performance budgeting.</p>
      </div>
      <div class="timeline-item">
        <h3>02&nbsp;· Physically‑Based Shading</h3>
        <p>Implemented GGX microfacet BRDF, image‑based lighting, and a spectral friendly material model to avoid “fake” hacks—our clay pots look like…well, actual clay.</p>
      </div>
      <div class="timeline-item">
        <h3>03&nbsp;· Global Illumination</h3>
        <p>Probe‑based ray‑cone tracing with real‑time update passes; earthy interiors bathe in soft bounce light as naturally as a sun‑drenched terracotta foyer.</p>
      </div>
      <div class="timeline-item">
        <h3>04&nbsp;· Tooling &amp; Live Reload</h3>
        <p>Hot‑reloadable HLSL &amp; shader introspection UI built in ImGui‑style panels; one‑click iterate from modeler to monitor.</p>
      </div>
    </div>
  </div>
</section>

<!-- ╭────────────────── DEMOS ──────────────────╮ -->
<section id="demos">
  <div class="container">
    <h2 class="section-title">In‑Engine Demo Captures</h2>
    <div class="demos">
      <article class="demo-card">
        <header>Physically‑Based Clay</header>
        <canvas data-demo="pbr"></canvas>
      </article>
      <article class="demo-card">
        <header>Ray‑Marched Terrain</header>
        <canvas data-demo="terrain"></canvas>
      </article>
      <article class="demo-card">
        <header>Post‑Processing Stack</header>
        <canvas data-demo="postfx"></canvas>
      </article>
    </div>
  </div>
</section>

<!-- ╭────────────────── FOOTER ──────────────────╮ -->
<footer>
  Engine From Scratch © 2025 · Crafted with clay‑toned passion and far too much coffee.
</footer>

<!-- ────────── JAVASCRIPT ────────── -->
<script>
/* ────────── Scroll Progress Bar ────────── */
const bar=document.getElementById('scrollbar');
window.addEventListener('scroll',()=>{
  const h=document.documentElement,
        percent=h.scrollTop/(h.scrollHeight-h.clientHeight);
  bar.style.transform=`scaleX(${percent})`;
});

/* ────────── Intersection Reveal Logic ────────── */
const io=new IntersectionObserver((entries)=>entries.forEach(e=>{
  if(e.isIntersecting){
    e.target.classList.add('is-visible');
    io.unobserve(e.target);
  }
}),{threshold:.15});

/* attach to reveal items */
document.querySelectorAll('.timeline-item,.demo-card,.reveal').forEach(el=>io.observe(el));

/* ────────── Hero Canvas Particles ────────── */
(function(){
  const canvas=document.getElementById('heroCanvas');
  const ctx=canvas.getContext('2d');
  let w,h,particles=[];
  const COUNT=140, SPEED=.15, COLOR='rgba(255,255,255,.08)';
  function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight;}
  window.addEventListener('resize',resize);resize();
  function spawn(){
    return {x:Math.random()*w,
            y:Math.random()*h,
            r:Math.random()*1.2+0.5,
            vy:-SPEED*(Math.random()+.4)};
  }
  particles=[...Array(COUNT)].map(spawn);
  function step(){
    ctx.clearRect(0,0,w,h);
    ctx.fillStyle=COLOR;
    particles.forEach(p=>{
      p.y+=p.vy;
      if(p.y<-10)p.y=h+10;
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
    });
    requestAnimationFrame(step);
  }step();
})();

/* ────────── Demo Canvas Generators ────────── */
document.querySelectorAll('canvas[data-demo]').forEach(canvas=>{
  const type=canvas.dataset.demo;
  const ctx=canvas.getContext('2d');
  const w=canvas.width=canvas.clientWidth,
        h=canvas.height=canvas.clientHeight;

  /* simple noise helper */
  function noise(x,y){
    return (Math.sin(x*12.989+y*78.233)*43758.5453)%1;
  }

  if(type==='pbr'){                          /* clay ball */
    const cx=w/2,cy=h/2,r=Math.min(w,h)*.35;
    for(let y=0;y<h;y++){
      for(let x=0;x<w;x++){
        const dx=x-cx,dy=y-cy,d=Math.sqrt(dx*dx+dy*dy);
        if(d<r){
          const n=noise(x*.04,y*.04),sh=(1-d/r)*.8+.2;
          const light=.6+(.4*sh);
          const col=[201,125,96].map(c=>c*light*(.9+n*.1));
          ctx.fillStyle=`rgb(${col.map(v=>v|0)})`;
          ctx.fillRect(x,y,1,1);
        }else{
          ctx.clearRect(x,y,1,1);
        }
      }
    }
  }
  if(type==='terrain'){                     /* scrolling stripes */
    let off=0;
    function draw(){
      ctx.clearRect(0,0,w,h);
      for(let y=0;y<h;y++){
        const l=(noise(y*.1,off)*.4+.6)*255;
        ctx.fillStyle=`rgb(${l|0},${l|0*0.9},${l*0.8|0})`;
        ctx.fillRect(0,y,w,1);
      }
      off+=.005;requestAnimationFrame(draw);
    }draw();
  }
  if(type==='postfx'){                      /* bloom rings */
    const grad=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*.6);
    grad.addColorStop(0,'rgba(255,242,225,.85)');
    grad.addColorStop(.5,'rgba(201,125,96,.15)');
    grad.addColorStop(1,'rgba(0,0,0,0)');
    ctx.fillStyle=grad;ctx.fillRect(0,0,w,h);
    /* animate pulsating opacity */
    let t=0;function pulse(){
      t+=.02;canvas.style.opacity=.7+.3*Math.sin(t);
      requestAnimationFrame(pulse);
    }pulse();
  }
});
</script>
</body>
</html>
